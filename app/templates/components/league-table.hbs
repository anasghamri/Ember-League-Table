<table class="w-full">
    <thead class="text-left bg-grey-lighter border-r-2 border-grey p-4 m-4 align-bottom">
        <th>Rank</th>
        <th>Team</th>
        <th>Played</th>
        <th>Won</th>
        <th>Drawn</th>
        <th>Lost</th>
        <th>For</th>
        <th>Against</th>
        <th>GD</th>
        <th>Points</th>
        <th>Form</th>
    </thead>
    {{#each (sort-by "pointCount:desc" "gamesWon.length:desc" "goalDifference:desc" "goalsScored:desc" @teams) as |team index|}}
        <tr class="border-t-2 border-grey border-dashed">
            <td class="p-3">{{add 1 index}}</td>
            <td class="font-bold">{{team.name}}</td>
            <td>{{team.games.length}}</td>
            <td>{{team.gamesWon.length}}</td>
            <td>{{team.gamesDrawn.length}}</td>
            <td>{{team.gamesLost.length}}</td>
            <td>{{team.goalsScored}}</td>
            <td>{{team.goalsAgainst}}</td>
            <td>{{team.goalDifference}}</td>
            <td class="font-bold">{{team.pointCount}}</td>
            <td class="">
                {{#each (take 5 (sort-by: 'playedOn:desc' team.games)) as |game|}}
                    {{#if game.isDraw}}
                        <span class="p-1 m-1 bg-grey-dark w-8 font-bold text-white">D</span>
                    {{else if  (eq game.winningTeam.name team.name)}}
                        <span class="p-1 m-1 bg-green w-8 font-bold text-white">W</span>
                    {{else}}
                        <span class="p-1 m-1 bg-red w-8 font-bold text-white">L</span>
                    {{/if}}
                {{/each}}
            </td>
        </tr>
    {{/each}}
</table>